/*! For license information please see sdk.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SDK=e():t.SDK=e()}(global,(()=>(()=>{var t={456:(t,e,r)=>{var n=r(108),i=r(764).lW;const{objToHeadersEntry:o}=r(830),s=r(819),a=r(17);t.exports={CoreLayer:class{constructor(t){this.scheme=t.scheme,this.url=t.url,this.foundVulnOnVariation=!1,this.browser=t.browser,this.headers=o(t.headers),this.method=t.method,this.__call=t.__call,this.debug=!1,this.taskid=t.taskid,this.hostid=t.hostid,this.postData=t.postData,this.variations=t.variations,this.siteFiles=t.siteFiles}getVulnId(t){return a.parse(t).name.replace(".js","")}debug(t){this.debug&&n.log(`[DEBUG] ${t}`)}alert(t){const e=JSON.parse(JSON.stringify(t));e.fields.hostid={numberValue:this.hostid};var r={Report:e};this.__call.send(r)}},createReport:function(t){for(var e={},r=Object.keys(t),n=0;n<r.length;n++){var i=r[n],o=t[i];e[i]={stringValue:o}}return{fields:e}},urlencodedParams:class{constructor(t){this.qs=t,this.params=[],this.parseQuerstring(),this.length=this.params.length}parseQuerstring(){this.qs.split("&").reduce(((t,e)=>{let[r,n]=e.split("=");return r&&n&&(n=decodeURIComponent(n),this.params.push({name:r,value:n})),t}),this.params)}getValue(t){if(this.params[t])return this.params[t].value}getKey(t){if(this.params[t])return this.params[t].name}getValueFromKey(t){let e=this.params.findIndex((e=>e.name===t));if(e>=0)return this.params[e].value}setValueFromKey(t,e){let r=this.params.findIndex((e=>e.name===t));r>=0&&(this.params[r].value=e)}setValue(t,e){this.params[t]&&(this.params[t].value=e)}toString(){for(var t=[],e=0;e<this.params.length;e++)t.push(this.getKey(e)+"="+this.getValue(e));return t.join("&")}hasOwnProperty(t){return this.params.findIndex((e=>e.name===t))>=0}},urlGetParams:class{constructor(t){const e=new URL(t).searchParams.toString(),r=s.parse(e);this.params=[];for(const[t,e]of Object.entries(r))this.params.push({name:t,value:e});this.length=this.params.length}getValueFromKey(t){let e=this.params.findIndex((e=>e.name===t));if(e>=0)return this.params[e].value}setValueFromKey(t,e){let r=this.params.findIndex((e=>e.name===t));r>=0&&(this.params[r].value=e)}setValue(t,e){this.params[t]&&(this.params[t].value=e)}getValue(t){if(this.params[t])return this.params[t].value}getKey(t){return t>=0&&t<this.params.length?this.params[t].name:null}getValueFromKey(t){const e=this.params.find((e=>e.name===t));return e?e.value:null}setValueFromKey(t,e){const r=this.params.find((e=>e.name===t));r&&(r.value=e)}toString(){const t=[];for(let e=0;e<this.params.length;e++)t.push(`${this.getKey(e)}=${this.getValue(e)}`);return t.join("&")}},browerHttpJob:class{constructor(t){this.url=null,this.uri=null,this.headers=[],this.cookies=[],this.method=null,this.postData=null,this.response=null,this.browser=t}addHeader(t,e){this.headers.push({name:t,value:e})}addCookie(t,e){this.cookies.push({name:t,value:e});const r=this.headers.findIndex((t=>"cookie"===t.name.toLowerCase()));r>=0?this.headers[r].value+=`; ${cookieHeader}`:this.headers.push({name:"Cookie",value:cookieHeader})}async execute(){if(this.tab=await this.browser.newTab(),"POST"==this.method){const e={url:this.url,method:this.method,headers:this.headers,postData:i.from(this.postData).toString("base64"),isEncodeUrl:!1};var t=await this.tab.postEx(e);return await this.tab.close(),t}{const e={url:this.url,method:this.method,headers:this.headers,postData:i.from(this.postData).toString("base64"),isEncodeUrl:!1};return t=await this.tab.postEx(e),await this.tab.close(),t}}}}},957:(t,e,r)=>{"use strict";const n=r(974)("HeadlessChrome:browser"),i=r(239),o=r(330),s=r(855),a=r(418),c={headless:!0,launchChrome:!0,chrome:{host:"localhost",port:0,remote:!1,launchAttempts:3,userDataDir:null,disableGPU:!0,handleSIGINT:!0,flags:[],noSandbox:!1},tabs:{maxTabs:1/0,startingUrl:"about:blank"},deviceMetrics:{width:1024,height:768,deviceScaleFactor:1,mobile:!1,fitWindow:!1},browser:{loadPageTimeout:6e4,loadSelectorInterval:500,loadSelectorTimeout:6e4,browserLog:!1}};t.exports=class extends i{constructor(t={}){super(),this.options=o(c,t),this.host=this.options.chrome.host,this._tabs=[],this._closedTabs=[]}async init(){if(this.options.launchChrome){const t=this.options.chrome;this.chromeInstance=await s.launch(this.options.headless,t),this.port=this.chromeInstance.port}try{return this.client=await s.attachCdpToBrowser(this.host,this.port,this.options.chrome.remote),this}catch(t){throw this.chromeInstance&&await this.chromeInstance.kill(),t}}async newTab({privateTab:t=!1}={}){if(n(`:: newTab => Opening a new tab in browser. Private tab: ${t}`),Object.keys(this._tabs).length>=this.options.tabs.maxTabs){const t=new Error("Can't open new tab. Max tabs limit reached");throw t.maxTabs=this.options.tabs.maxTabs,t.openedTabs=Object.keys(this._tabs).length,t}const e=new a(this.host,this.port,{privateTab:t,startingUrl:this.options.tabs.startingUrl},this);return await e.init(),this._tabs[e.getId()]=e,e}getTab(t){return n(`:: getTab => Getting tab ${t}`),this._tabs[t]}async listTabs(){n(":: listTabs => Listing all tabs");let t=[];for(let e in this._tabs)t.push(this._tabs[e].id);return t}listPrivateTabs(){if(n(":: listPrivateTabs => Listing all private tabs..."),!this.options.headless)return void n(":: listPrivateTabs => Can't list private tabs without headless mode!");let t=[];for(let e in this._tabs)this._tabs[e].privateTab&&t.push(this._tabs[e].id);return n(`:: listPrivateTabs => "${t.length}" private tabs found.`),t}async close(t=!0){if(n(":: close => Closing the browser."),this.client)try{return await this.client.close(),this.client=null,this._tabs=[],this._closedTabs=[],t&&this.chromeInstance&&await this.chromeInstance.kill("SIGHUP"),n(":: close => Browser closed correctly!"),!0}catch(t){throw t}else n(":: close => Can not close the browser. Browser instance doesn't exists.")}async _closeTarget(t){const e=this._tabs[t];this._closedTabs.push({id:t,closedAt:e.closedAt,instance:e}),delete this._tabs[t]}isInitialized(){return!!this.client}}},418:(t,e,r)=>{"use strict";var n=r(108);const i=r(974)("HeadlessChrome:tab"),o=r(239),s=r(855),a=r(177),c=r(592),l=r(256);t.exports=class extends o{constructor(t,e,r,n){super(),o.call(this),this._host=t,this._port=e,this._tabOptions=r,this._browser=n,this.options={browser:n.options.browser,deviceMetrics:n.options.deviceMetrics}}async init(){i(":: init => Initializating new tab...");const{Target:t}=this._browser.client;try{const e={url:this._tabOptions.startingUrl};if(this._tabOptions.privateTab){if(!this._browser.options.headless)throw new Error("Can't open a private target/tab if browser is not in headless mode");this._privateTab=e.browserContextId=await t.createBrowserContext()}return this._target=await t.createTarget(e),this._targetId=this._target.targetId,i(`:: init => Attaching tab "${this._targetId}" to the CDP...`),this.client=await s.attachCdpToTarget(this._host,this._port,this._targetId),i(`:: init => Preparing Actions, Handlers and Viewport for tab "${this._targetId}"...`),await a.call(this),await c.call(this),l.call(this),i(`:: init => Tab "${this._targetId}" initialized successfully!`),this}catch(e){throw i(`:: init => Could not initialize new target/tab. Error code: ${e.code}`,e),this._targetId&&t.closeTarget(this._targetId),this._privateTab&&t.disposeBrowserContext(this._privateTab),e}}isInitialized(){return!!this.client}isPrivate(){return void 0!==this._privateTab}getId(){return this._targetId}getBrowserContextId(){if(this._privateTab)return this._privateTab.browserContextId}addAction(t,e){return"function"==typeof e&&(this[t]=e),this}async close(){if(i(`:: close => Closing target/tab "${this._targetId}"...`),!this.isInitialized())throw new Error("Cannot close a tab that it's not initialized");const{Target:t}=this._browser.client,e=this.getId();try{if(await t.closeTarget({targetId:e}),this.isPrivate()){const e=this.getBrowserContextId();await t.disposeBrowserContext({browserContextId:e})}return this._closedAt=(new Date).toISOString(),this.client=!1,this._browser._closeTarget(e),i(`:: close => Target/tab "${this._targetId}" closed successfully!`),!0}catch(t){throw t.message=`There was a problem closing target/tab. ${t.message}`,t.tabId=e,t}}log(t){return n.log(`[Tab ID: ${this._targetId}] ${t}`),this}debugLog(t){return i(`[Tab ID: ${this._targetId}] ${t}`),this}}},253:(t,e,r)=>{"use strict";var n=r(764).lW,i=r(108);const o=r(974)("HeadlessChrome:actions"),s=r(983),a=r(884),c=r(517),{browserIsInitialized:l,sleep:u,fixSelector:h,interleaveArrayToObject:f,promiseTimeout:d,objectToEncodedUri:p}=r(502);e.injectRemoteScript=async function(t){o(`:: injectRemoteScript => Inject "${t}" on the root document...`),l.call(this);const e=await this.evaluateAsync((function(t){return new s(((e,r)=>{const n=document.createElement("script");n.src=t,n.onload=e,n.onerror=r,document.head.appendChild(n)}))}),t);return o(`:: injectRemoteScript => script "${t}" was injected successfully!`),e},e.injectScript=async function(t){o(`:: injectScript => Injecting "${t.slice(0,10)}..." on the root document...`),l.call(this);const e=await this.evaluate((function(t){const e=document.createElement("script");e.text=t,document.head.appendChild(e)}),t);return o(`:: injectScript => script "${t.slice(0,10)}..." was injected successfully!`),e},e.evaluate=async function(t,...e){o(`:: evaluate => ${t}`,...e),l.call(this);const r=e&&e.length>0?`(${String(t)}).apply(null, ${JSON.stringify(e)})`:`(${String(t)}).apply(null)`,n=await this.client.Runtime.evaluate({expression:r,returnByValue:!0});return o(`:: evaluate => Function ${t} evaluated successfully!`,n),n},e.evaluateAsync=async function(t,...e){o(`:: evaluate => ${t}`,...e),l.call(this);const r=e&&e.length>0?`(${String(t)}).apply(null, ${JSON.stringify(e)})`:`(${String(t)}).apply(null)`;return this.client.Runtime.evaluate({expression:r,returnByValue:!0,awaitPromise:!0})},e.evaluateOnNode=async function(t,e,...r){o(`:: evaluateOnNode => Evaluate on node "${t.nodeId}", fn: ${e}`,...r),l.call(this);const n=r&&r.length>0?`function() {(${String(e)}).apply(null, ${JSON.stringify(r)})}`:`function() {(${String(e)}).apply(null)}`,i=await this.client.DOM.resolveNode(t);return this.client.Runtime.callFunctionOn({objectId:i.object.objectId,functionDeclaration:n})},e.goTo=async function(t,e={}){o(`:: goTo => URL "${t}" | Options: ${JSON.stringify(e,null,2)}`),l.call(this);const r=Object.assign({timeout:this.options.browser.loadPageTimeout},e);r.bypassCertificate&&(this.client.Security.certificateError((({eventId:t})=>{this.client.Security.handleCertificateError({eventId:t,action:"continue"})})),this.client.Security.setOverrideCertificateErrors({override:!0})),await this.client.Page.navigate({url:t}),r.timeout&&(r.timeout,1)&&await this.waitForPageToLoad(r.timeout),o(`:: goTo => URL "${t}" navigated!`)},e.getNodeValue=async function(t){o(`:: getNodeValue => Get value from Node "${t.nodeId}"`),l.call(this);const e=f((await this.client.DOM.getAttributes(t)).attributes).value;return o(`:: getNodeValue => Value from Node "${t.nodeId}":`,e),e},e.getValue=async function(t,e){o(`:: getValue => Get value from element matching "${t}"`),l.call(this),t=h(t);const r=await this.querySelector(t,e),{className:n}=(await this.client.DOM.resolveNode(r)).object;let i;return"HTMLTextAreaElement"===n?(t=t.replace(/\\/g,"\\"),i=(await this.evaluate((function(t){return document.querySelector(t).value}),t)).result.value):i=await this.getNodeValue(r),o(`:: getValue => Value from element matching "${t}":`,i),i},e.setNodeValue=async function(t,e){o(`:: setNodeValue => Set node value "${e}" to node "${t.nodeId}"`),l.call(this);const{className:r}=(await this.client.DOM.resolveNode(t)).object;if("HTMLSelectElement"===r){const r=await this.client.DOM.querySelectorAll({nodeId:t.nodeId,selector:"option"});let n=e;Array.isArray(e)||(n=[e]);for(let t of r.nodeIds){const e=await this.getNodeValue({nodeId:t});n.indexOf(e)>-1?await this.client.DOM.setAttributeValue({nodeId:t,name:"selected",value:"true"}):await this.client.DOM.removeAttribute({nodeId:t,name:"selected"})}}else await this.client.DOM.setAttributeValue({nodeId:t.nodeId,name:"value",value:e})},e.setValue=async function(t,e,r){o(`:: setValue => Set value "${e}" to element matching selector "${t}" in frame "${r||"root"}"`),l.call(this),t=h(t);const n=await this.querySelector(t,r),{className:i}=(await this.client.DOM.resolveNode(n)).object;"HTMLTextAreaElement"===i?(t=t.replace(/\\/g,"\\"),await this.evaluate((function(t,e){document.querySelector(t).value=e}),t,e)):await this.setNodeValue(n,e)},e.fill=async function(t,e,r){o(`:: fill => Fill selector "${t}" with value "${e}" in frame "${r||"root"}"`),l.call(this),t=h(t);const n=await this.querySelector(t,r),i=f((await this.client.DOM.getAttributes(n)).attributes),{className:s}=(await this.client.DOM.resolveNode(n)).object,a=i.type,c="HTMLInputElement"===s&&(void 0===a||-1!==["color","date","datetime","datetime-local","email","hidden","month","number","password","range","search","tel","text","time","url","week"].indexOf(a));if("HTMLTextAreaElement"!==s&&!c)throw new Error(`DOM element ${t} can not be filled`);await this.setNodeValue(n,e)},e.clear=async function(t,e){o(`:: clear => Clear the field of the selector "${t}"`),l.call(this),t=h(t);const r=await this.querySelector(t,e);await this.setNodeValue(r,"")},e.querySelector=async function(t,e){o(`:: querySelector => Get element from selector "${t}" in frame "${e||"root"}"`),l.call(this),t=h(t);const r=this.client.DOM;try{const n=e?await r.getFlattenedDocument():await r.getDocument();let i=e?c.find(n.nodes,{frameId:e}):n.root;return"IFRAME"===i.nodeName&&i.contentDocument&&(i=i.contentDocument),await r.querySelector({nodeId:i.nodeId,selector:t})}catch(r){throw r.name=`Can not query selector ${t} in frame "${e||"root"}": ${r.name}`,r}},e.focus=async function(t,e){o(`:: focus => Focusing on selector "${t}" in frame "${e||"root"}"`),l.call(this),t=h(t);try{const r=await this.querySelector(t,e);await this.client.DOM.focus({nodeId:r.nodeId})}catch(e){throw new Error(`Can not focus to ${t}. Error: ${e}`)}},e.type=async function(t,e,r,n){const i=Object.assign({reset:!1,eventType:"char"},n);o(`:: type => Type text "${e}" in selector "${t}" | Options: ${JSON.stringify(i,null,2)}`),t=h(t);const s=function(t){const e={ctrl:67108864,shift:33554432,alt:134217728,meta:268435456,keypad:536870912};if(!t)return 0;const r=t.split("+");return r.forEach((function(t){t in e||o(t+"is not a supported key modifier")})),r.reduce((function(t,r){return t|e[r]}),0)}(i&&i.modifiers);function a(t){if("\r"===t)return!0}i.reset&&await this.clear(t,r),await this.focus(t,r);for(let t of e.split(""))a(t)?(await this.keyboardEvent("rawKeyDown","",s,13),await this.keyboardEvent(i.eventType,"\r",s),await this.keyboardEvent("keyUp","",s,13)):await this.keyboardEvent(i.eventType,t,s)},e.typeText=async function(t,e){const r=Object.assign({reset:!1,eventType:"char"},e);o(`:: typeText => Type text "${t}" | Options: ${JSON.stringify(r,null,2)}`);const n=function(t){const e={ctrl:67108864,shift:33554432,alt:134217728,meta:268435456,keypad:536870912};if(!t)return 0;const r=t.split("+");return r.forEach((function(t){t in e||o(t+"is not a supported key modifier")})),r.reduce((function(t,r){return t|e[r]}),0)}(r&&r.modifiers);function i(t){if("\r"===t)return!0}for(let e of t.split(""))i(e)?(await this.keyboardEvent("rawKeyDown","",n,13),await this.keyboardEvent(r.eventType,"\r",n),await this.keyboardEvent("keyUp","",n,13)):await this.keyboardEvent(r.eventType,e,n)},e.select=async function(t,e,r){o(`:: select => ${void 0!==e?'Set select value to "'+e+'"':"Get select value"} in the select matching selector "${t}" for frame "${r||"root"}"`),l.call(this),t=h(t);const n=await this.querySelector(t,r);return void 0!==e?this.setNodeValue(n,e):this.getNodeValue(n)},e.keyboardEvent=async function(t,e,r,n=0){o(`:: keyboardEvent => Event type "${t}" | Key "${e}" | Modifier: "${r}"`),l.call(this);const i={type:t=void 0===t?"char":t,modifiers:r=r||0,text:e=void 0===e?null:e};n&&(i.windowsVirtualKeyCode=n,i.nativeVirtualKeyCode=n),await this.client.Input.dispatchKeyEvent(i)},e.wait=async function(t){return o(`:: wait => Waiting ${t} ms...`),l.call(this),u(t)},e.onConsole=async function(t){o(":: onConsole => Binding new listener to console"),l.call(this),this.on("onConsoleMessage",t)},e.waitForPageToLoad=async function(t){return o(":: waitForPageToLoad => Waiting page load..."),l.call(this),d(new s(((t,e)=>{const r=()=>{o(":: waitForPageToLoad => Page loaded!"),this.removeListener("pageLoaded",r),t(!0)};this.on("pageLoaded",r)})),t||this.options.browser.loadPageTimeout)},e.waitForFrameToLoad=async function(t,e){if(!t)throw new Error('"url" parameter must be passed ');o(`:: waitForFramesToLoad => Waiting page frame ${t} load...`),l.call(this);const r=await this.getFrames();let n=c.find(r,(function(e){if("string"==typeof t&&e.url===t||"string"!=typeof t&&e.url.match(t))return e}));return n||(n=await d(new s(((e,r)=>{const n=r=>{o(":: waitForPageToLoad => Page loaded!"),this.removeListener("frameNavigated",n),("string"==typeof t&&r.frame.url===t||"string"!=typeof t&&r.frame.url.match(t))&&e(r.frame)};this.on("frameNavigated",n)})),e||this.options.browser.loadPageTimeout)),n},e.waitForSelectorToLoad=async function(t,e,r){o(`:: waitForSelectorToLoad => Waiting selector "${t}" load...`),l.call(this);const n=(new Date).getTime();for(;;){if(!0===await this.exist(t))return void o(`:: waitForSelectorToLoad => Selector "${t}" loaded!`);if(o(`:: waitForSelectorToLoad => Selector "${t}" hasn't loaded yet. Waiting ${e||this.options.browser.loadSelectorInterval}ms...`),await u(e||this.options.browser.loadSelectorInterval),(new Date).getTime()-n>(r||this.options.browser.loadSelectorTimeout))throw o(`:: waitForSelectorToLoad => Timeout while trying to wait for selector "${t}".`),new Error(`Timeout while trying to wait for selector "${t}"`)}},e.mouseEvent=async function({type:t="mousePressed",x:e=0,y:r=0,modifiers:n=0,button:i="left",clickCount:s=1}){o(`:: mouseEvent => Type "${t}" | (${e}; ${r}) | Modifiers: "${n}" | Button: ${i}`),l.call(this),await this.client.Input.dispatchMouseEvent({type:t,x:e,y:r,button:i,modifiers:n,clickCount:s})},e.click=async function(t,e){o(`:: click => Click event on selector "${t}"`),l.call(this),t=h(t);const r=await this.querySelector(t,e);await this.evaluateOnNode(r,(function(t){document.querySelector(t).click()}),t)},e.clickOnSelector=async function(t,e){o(`:: clickOnSelector => Mouse click in centroid of element with selector "${t}" for frame "${e||"root"}"`),l.call(this),t=h(t);const r=await this.querySelector(t,e),n=await this.getNodeCentroid(r.nodeId);await this.mouseEvent({type:"mousePressed",x:n.x,y:n.y}),await this.mouseEvent({type:"mouseReleased",x:n.x,y:n.y})},e.getNodeCentroid=async function(t){o(`:: getNodeCentroid => Get centroid coordinates for node "${t}"`),l.call(this);const e=await this.client.DOM.getBoxModel({nodeId:t});return{x:parseInt((e.model.content[0]+e.model.content[2]+e.model.content[4]+e.model.content[6])/4),y:parseInt((e.model.content[1]+e.model.content[3]+e.model.content[5]+e.model.content[7])/4)}},e.getCookies=async function(){return o(":: getCookies => Return the browser cookies"),l.call(this),this.client.Network.getCookies()},e.setCookie=async function(t,e,r={}){o(`:: setCookie => Setting browser cookie "${t}" with value "${e}". Additional options: ${r}`),l.call(this);const n=Object.assign({name:t,value:e},r);return this.client.Network.setCookie(n)},e.clearBrowserCookies=async function(){return o(":: clearBrowserCookies => Clearing browser cookies"),l.call(this),this.client.Network.clearBrowserCookies()},e.exist=async function(t,e){o(`:: exist => Exist element with selector "${t}" for frame "${e||"root"}"?`),l.call(this),t=h(t);const r=await this.evaluate((t=>!!document.querySelector(t)),t);return o(`:: exist => Exist: "${r.result.value}"`),r.result.value},e.visible=async function(t,e){o(`:: visible => Visible element with selector "${t}" for frame "${e||"root"}"?`),l.call(this);const r=await this.evaluate((t=>{const e=document.querySelector(t);let r;try{r=window.getComputedStyle(e,null)}catch(t){return!1}return"hidden"!==r.visibility&&"none"!==r.display&&("inline"===r.display||"inline-block"===r.display||e.clientHeight>0&&e.clientWidth>0)}),t);return o(`:: visible => Visible: "${r.result.value}"`),r.result.value},e.getScreenshot=async function({format:t="png",quality:e,clip:r={x:0,y:0,width:this.options.deviceMetrics.width,height:this.options.deviceMetrics.height,scale:this.options.deviceMetrics.deviceScaleFactor},fromSurface:i,selector:s,fullPage:a},c=!1){if(o(`:: getScreenshot => Taking a screenshot of the ${s?'selector "'+s+'"':"page"}. Returning as ${c?"binary":"base64"} string`),l.call(this),"jpg"===(t=t.toLowerCase())&&(t="jpeg"),"jpeg"!==t&&"png"!==t)throw new Error(`Invalid format "${t}" for the screenshot. Allowed values: "jpeg" and "png".`);const u={format:t,quality:e,fromSurface:!0};!0===a&&(u.clip=await this.resizeFullScreen()),s&&(u.clip=await this.getSelectorViewport(s));let h=(await this.client.Page.captureScreenshot(u)).data;return c&&(h=n.from(h,"base64")),o(":: getScreenshot => Screenshot took!"),h},e.saveScreenshot=async function(t=`screenshot-${Date.now()}`,{format:e="png",quality:r,clip:n,fromSurface:i,selector:s,fullPage:c}={}){if(o(`:: saveScreenshot => Saving a screenshot of the  ${s?'selector "'+s+'"':"page"}...`),l.call(this),"jpg"===(e=e.toLowerCase())&&(e="jpeg"),"jpeg"!==e&&"png"!==e)throw new Error(`Invalid format "${e}" for the screenshot. Allowed values: "jpeg" and "png".`);const u=await this.getScreenshot({format:e,quality:r,clip:n,fromSurface:i,selector:s,fullPage:c},!0);return await a.writeFile(`${t}.${e}`,u),o(":: saveScreenshot => Screenshot saved!"),`${t}.${e}`},e.printToPDF=async function(t={},e=!1){o(`:: printToPDF => Printing page to PDF with options: ${JSON.stringify(t,null,2)}. Returning as ${e?"binary":"base64"} string`),l.call(this);let r=(await this.client.Page.printToPDF(t)).data;return e&&(r=n.from(r,"base64")),r},e.savePdf=async function(t=`pdf-${Date.now()}`,e={}){return o(":: savePdf => Saving a PDF of the page..."),l.call(this),await a.writeFile(`${t}.pdf`,await this.printToPDF(e,!0)),o(":: savePdf => PDF saved!"),`${t}.pdf`},e.getSelectorViewport=async function(t,e){o(`:: getSelectorViewport => Getting viewport for element with selector "${t}" for frame "${e||"root"}"?`),l.call(this),t=h(t);const r=await this.querySelector(t,e),n=await this.client.DOM.getBoxModel({nodeId:r.nodeId}),i={x:n.model.margin[0],y:n.model.margin[1],width:n.model.width,height:n.model.height,scale:this.options.deviceMetrics.deviceScaleFactor};return o(`:: getSelectorViewport => Viewport: "${JSON.stringify(i)}"`),i},e.getFrames=async function(){o(":: getFrames => Getting frames list"),l.call(this);const t=[],e=await this.client.Page.getResourceTree();return t.push(e.frameTree.frame),c.each(e.frameTree.childFrames,(e=>{t.push(e.frame)})),t},e.resizeFullScreen=async function(){o(":: resizeFullScreen => Resizing viewport to full screen size");const{DOM:t,Emulation:e}=this.client,{root:{nodeId:r}}=await t.getDocument(),{nodeId:n}=await t.querySelector({selector:"body",nodeId:r}),i=await this.options.deviceMetrics,{model:{height:s}}=await t.getBoxModel({nodeId:n});return await e.setDeviceMetricsOverride({width:i.width,height:s,deviceScaleFactor:i.deviceScaleFactor,mobile:i.mobile,fitWindow:i.fitWindow}),await this.client.Emulation.setVisibleSize({width:i.width,height:s}),await e.setPageScaleFactor({pageScaleFactor:i.deviceScaleFactor}),{x:0,y:0,width:i.width,height:s,scale:i.deviceScaleFactor}},e.handleDialog=async function(t=!0,e=""){o(":: handleDialog => Handling dialog on the page..."),l.call(this),await this.client.Page.handleJavaScriptDialog({accept:t,promptText:e}),o(":: handleDialog => Dialog handled!")},e.post=async function(t,e={},r={}){if(o(`:: post => Posting on URL "${t}" data: ${JSON.stringify(e,null,2)} with options ${r}...`),l.call(this),!t)throw new Error("An URL must be supplied in order to make the POST request");let n=e;"object"==typeof e&&(n=p(e));const i=Object.assign({contentType:"application/x-www-form-urlencoded",timeout:this.options.browser.loadPageTimeout},r);return this.evaluateAsync((function(t,e,r){return new s(((n,i)=>{const o=new XMLHttpRequest;o.open("POST",t),o.setRequestHeader("Content-Type",r.contentType),o.onload=function(t){n({responseText:o.responseText,status:o.status,response:o.response,responseType:o.responseType,responseURL:o.responseURL,statusText:o.statusText,responseXML:o.responseXML,readyState:o.readyState})},o.onerror=function(n){const s=new Error(`Error while making request POST to URL "${t}"`);s.requestData=e,s.options=r,s.response={responseText:o.responseText,status:o.status,response:o.response,responseType:o.responseType,responseURL:o.responseURL,statusText:o.statusText,responseXML:o.responseXML,readyState:o.readyState},i(s)},e?o.send(e):o.send()}))}),t,n,i)},r(830),e.postEx=async function(t){l.call(this);try{await this.client.Network.clearBrowserCache();const n=async({requestId:e,request:r})=>{t.url==r.url?await this.client.Fetch.continueRequest({requestId:e,url:t.url,method:t.method,postData:t.postData,headers:t.headers}):await this.client.Fetch.continueRequest({requestId:e})};this.client.on("Fetch.requestPaused",n);var e=null,r=null;const i=async({response:n})=>{n.url==t.url&&(e=n.status,r=n.statusText)};await this.client.on("Network.responseReceived",i),await this.client.Page.navigate({url:t.url});const o=await this.getOutHtml(5e3),s=e<200||e>=300?`Request failed with status ${e}`:null;return this.client.removeAllListeners("Fetch.requestPaused"),this.client.removeAllListeners("Network.responseReceived"),{body:o,status:e,statusText:r,err:s}}catch(t){i.error(t),this.client.removeAllListeners("Fetch.requestPaused"),this.client.removeAllListeners("Network.responseReceived")}},e.GetEx=async function(t){l.call(this);try{await this.client.Network.clearBrowserCache();const n=async({requestId:e,request:r})=>{t.url==r.url?await this.client.Fetch.continueRequest({requestId:e,url:t.url,method:t.method,postData:t.postData,headers:t.headers}):await this.client.Fetch.continueRequest({requestId:e})};this.client.on("Fetch.requestPaused",n);var e=null,r=null;const i=async({response:n})=>{n.url==t.url&&(e=n.status,r=n.statusText)};await this.client.on("Network.responseReceived",i),await this.client.Page.navigate({url:t.url});const o=await this.getOutHtml(5e3),s=e<200||e>=300?`Request failed with status ${e}`:null;return this.client.removeAllListeners("Fetch.requestPaused"),this.client.removeAllListeners("Network.responseReceived"),{body:o,status:e,statusText:r,err:s}}catch(t){this.client.removeAllListeners("Fetch.requestPaused"),this.client.removeAllListeners("Network.responseReceived"),i.error(t)}},e.waitForEventLoadingFinished=async function(t,e){return d(new s(((t,r)=>{this.on("Network.loadingFinished",((...r)=>{o(":: Network.loadingFinished => Network.loadingFinished!"),t(e(...r))}))})),t||this.options.browser.loadPageTimeout)},e.waitRequestIntercepted=async function(t,e){return d(new s(((t,r)=>{this.on("Network.requestIntercepted",((...r)=>{o(":: Network.requestIntercepted => Network.requestIntercepted!"),t(e(...r))}))})),t||this.options.browser.loadPageTimeout)},e.getOutHtml=async function(t){const e=async({requestId:t})=>{const{body:e,base64Encoded:r}=await this.client.Network.getResponseBody({requestId:t});return{body:e}},r={timeout:this.options.browser.loadPageTimeout};for(var n=[],i=0;i<5;i++){const{body:r}=await this.waitForEventLoadingFinished(t,e);n.push(r)}r.timeout&&await this.waitForPageToLoad(r.timeout);const{root:o}=await this.client.DOM.getDocument({depth:1}),s=await this.client.DOM.querySelectorAll({nodeId:o.nodeId,selector:"html"});for(const t of s.nodeIds){const{outerHTML:e}=await this.client.DOM.getOuterHTML({nodeId:t});n.push(e)}return n}},855:(t,e,r)=>{"use strict";const n=r(974)("HeadlessChrome:chrome"),i=r(361),o=r(979),{sleep:s}=r(502);t.exports.launch=async function(t,e={}){n("Launching Chrome instance. Headless: "+(!0===t?"YES":"NO"));const r={port:e.port,handleSIGINT:e.handleSIGINT,userDataDir:e.userDataDir,chromeFlags:e.flags};t&&r.chromeFlags.push("--headless"),e.disableGPU&&r.chromeFlags.push("--disable-gpu"),e.noSandbox&&r.chromeFlags.push("--no-sandbox");let o,a=0;const c=e.launchAttempts;for(;!o&&a++<c;){n(`Launching Chrome. Attempt ${a}/${c}...`);try{o=await i.launch(r)}catch(t){if(n(`Can't launch Chrome in attempt ${a}/${c}. Error code: ${t.code}`,t),"EAGAIN"!==t.code&&"ECONNREFUSED"!==t.code)throw t;if(await s(1e3*a),a>=c)throw t}}if(!o)throw new Error(`Can't launch Chrome! (attempts: ${a-1}/${c})`);return n(`Chrome instance launched in port "${o.port}", pid "${o.pid}"`),o},t.exports.attachCdpToBrowser=async function(t="localhost",e=9222,r=!1){n(`Preparing Chrome Debugging Protocol (CDP) for host "${t}" and port "${e}"...`);try{let i=await o({host:t,port:e,remote:r});return n("CDP prepared for browser"),i}catch(t){throw n("Couldnt connect CDP to browser"),t}},t.exports.attachCdpToTarget=async function(t,e,r){n(`Preparing Chrome Debugging Protocol (CDP) for Tab "${r}"...`);try{const i=await o({target:r,host:t,port:e});return await Promise.all([i.Network.enable(),i.Page.enable(),i.DOM.enable(),i.CSS.enable(),i.Security.enable()]),n(`CDP prepared for tab "${r}"!`),i}catch(t){throw n(`Couldnt connect CDP to tab "${r}"`),t}}},575:(t,e,r)=>{"use strict";r(974)("HeadlessChrome:events:Network"),t.exports=async function(){const t=this.client.Network,e=["resourceChangedPriority","requestWillBeSent","requestServedFromCache","responseReceived","dataReceived","loadingFinished","loadingFailed","webSocketWillSendHandshakeRequest","webSocketHandshakeResponseReceived","webSocketCreated","webSocketClosed","webSocketFrameReceived","webSocketFrameError","webSocketFrameSent","eventSourceMessageReceived","requestIntercepted"];for(let r of e)t[r](((...t)=>{this.emit(`Network.${r}`,...t)}))}},256:(t,e,r)=>{"use strict";const n=r(974)("HeadlessChrome:setupActions"),i=r(253);t.exports=function(){const t=this;Object.keys(i).forEach((function(e){n(`Attaching new action: "${e}"`);const r=i[e].bind(t);t.addAction(e,r)}))}},177:(t,e,r)=>{"use strict";var n=r(108);const i=r(974)("HeadlessChrome:handlers"),o=r(575);function s(t){switch(t.entry.level){case"verbose":n.log(`Browser says: [${t.entry.level}] [${t.entry.source}] ${t.entry.text}`,t.entry);break;case"info":n.info(`Browser says: [${t.entry.level}] [${t.entry.source}] ${t.entry.text}`,t.entry);break;case"warning":n.warn(`Browser says: [${t.entry.level}] [${t.entry.source}] ${t.entry.text}`,t.entry);break;case"error":n.error(`Browser says: [${t.entry.level}] [${t.entry.source}] ${t.entry.text}`,t.entry);break;default:n.log(`Browser says: [${t.entry.source}] ${t.entry.text}`,t.entry)}}t.exports=async function(){i("Setting up handlers...");const t=this.client.Page,e=this.client.Log;"function"==typeof this.options.browser.browserLog?(i(`-- Browser Log status: ON! Log Entries will be received in the passed custom fn: ${this.options.browser.browserLog}`),await e.enable(),e.entryAdded(this.options.browser.browserLog)):!0===this.options.browser.browserLog?(i("-- Browser Log status: ON"),await e.enable(),e.entryAdded(s)):i("-- Browser Log status: OFF"),await o.call(this),this.client.Runtime.consoleAPICalled(((...t)=>{i("-- Added something in console ",...t),"log"===t[0].type&&this.emit("onConsoleMessage",t[0].args)})),this.client.Runtime.enable(),t.loadEventFired(((...t)=>{i("-- Page.loadEventFired \r\n",...t),this.emit("pageLoaded",...t)})),t.domContentEventFired(((...t)=>{i("-- Page.domContentEventFired \r\n",...t),this.emit("domContentEventFired",...t)})),t.frameAttached(((...t)=>{i("-- Page.frameAttached: ",...t),this.emit("frameAttached",...t)})),t.frameNavigated(((...t)=>{i("-- Page.frameNavigated: ",...t),this.emit("frameNavigated",...t)})),t.frameStartedLoading(((...t)=>{i("-- Page.frameStartedLoading",...t),this.emit("frameStartedLoading",...t)})),t.javascriptDialogOpening(((...t)=>{i("-- Page.javascriptDialogOpening",...t),this.emit("dialogOpening",...t)})),t.javascriptDialogClosed(((...t)=>{i("-- Page.javascriptDialogClosed",...t),this.emit("dialogClosed",...t)})),this.client.DOM.documentUpdated(((...t)=>{i("-- DOM.documentUpdated",...t),this.emit("documentUpdated",...t)}))}},592:(t,e,r)=>{"use strict";const n=r(974)("HeadlessChrome:viewPort");t.exports=async function(){const t=this.options.deviceMetrics;n("Setting viewport with this parameters: ",t)}},502:(t,e,r)=>{"use strict";var n=r(108),i=r(155);const o=r(951);e.browserIsInitialized=function(){this.isInitialized()||(n.error("HeadlessChrome is not ready; call browser.init() before requesting other actions"),i.exit(1))},e.fixSelector=function(t){return o(t)},e.sleep=function(t){return new Promise((e=>setTimeout(e,t)))},e.promiseTimeout=function(t,e){let r=null;return Promise.race([new Promise(((t,n)=>(r=setTimeout((()=>{const t=new Error("[Headless Chrome] Timeout after "+e+" ms");throw t.code="TIMEOUT",t}),e),r))),t.then((t=>(clearTimeout(r),t)))])},e.interleaveArrayToObject=function(t){let e={};for(let r=0;r<t.length;r++){let n=t[r],i=t[++r];e[n]=i}return e},e.objectToEncodedUri=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length>0&&(e+="&"),e+=encodeURI(r+"="+t[r]));return e}},764:(t,e,r)=>{"use strict";var n=r(108);const i=r(238),o=r(665),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.lW=l,e.h2=50;const a=2147483647;function c(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,l.prototype),e}function l(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let n=c(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return l.from(n,e,r);const i=function(t){if(l.isBuffer(t)){const e=0|g(t.length),r=c(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||X(t.length)?c(0):d(t):"Buffer"===t.type&&Array.isArray(t.data)?d(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return h(t),c(t<0?0:0|g(t))}function d(t){const e=t.length<0?0:0|g(t.length),r=c(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,l.prototype),n}function g(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function y(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return J(t).length;default:if(i)return n?-1:K(t).length;e=(""+e).toLowerCase(),i=!0}}function w(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,r);case"utf8":case"utf-8":return x(this,e,r);case"ascii":return C(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return B(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){let o,s=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,r/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(l(t,o)===l(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(l(t,o+n)!==l(e,n)){r=!1;break}if(r)return o}return-1}function T(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(X(n))return s;t[r+s]=n}return s}function E(t,e,r,n){return W(K(e,t.length-r),t,r,n)}function I(t,e,r,n){return W(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function S(t,e,r,n){return W(J(e),t,r,n)}function $(t,e,r,n){return W(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function B(t,e,r){return 0===e&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,r))}function x(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(c=(31&e)<<6|63&r,c>127&&(o=c));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(c=(15&e)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=O)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=O));return r}(n)}l.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),l.TYPED_ARRAY_SUPPORT||void 0===n||"function"!=typeof n.error||n.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(t,e,r){return function(t,e,r){return h(t),t<=0?c(t):void 0!==e?"string"==typeof r?c(t).fill(e,r):c(t).fill(e):c(t)}(t,e,r)},l.allocUnsafe=function(t){return f(t)},l.allocUnsafeSlow=function(t){return f(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(Y(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=l.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Y(e,Uint8Array))i+e.length>n.length?(l.isBuffer(e)||(e=l.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!l.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},l.byteLength=y,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},l.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},l.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},l.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?x(this,0,t):w.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){let t="";const r=e.h2;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(t,e,r,n,i){if(Y(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),c=this.slice(n,i),u=t.slice(e,r);for(let t=0;t<a;++t)if(c[t]!==u[t]){o=c[t],s=u[t];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},l.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return T(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":case"latin1":case"binary":return I(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function C(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function A(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Q[t[n]];return i}function L(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,r,n,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function U(t,e,r,n,i){V(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function F(t,e,r,n,i){V(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function D(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(t,e,r,n,i){return e=+e,r>>>=0,i||D(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function _(t,e,r,n,i){return e=+e,r>>>=0,i||D(t,0,r,8),o.write(t,e,r,n,52,8),r+8}l.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},l.prototype.readUint8=l.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readBigUInt64LE=Z((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=Z((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readBigInt64LE=Z((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),l.prototype.readBigInt64BE=Z((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),l.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),o.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),o.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),o.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),o.read(this,t,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||k(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||k(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigUInt64LE=Z((function(t,e=0){return U(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Z((function(t,e=0){return F(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);k(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},l.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);k(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigInt64LE=Z((function(t,e=0){return U(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Z((function(t,e=0){return F(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return _(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return _(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,n){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},l.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=l.isBuffer(t)?t:l.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const q={};function M(t,e,r){q[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function j(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function V(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new q.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){H(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||z(e,t.length-(r+1))}(n,i,o)}function H(t,e){if("number"!=typeof t)throw new q.ERR_INVALID_ARG_TYPE(e,"number",t)}function z(t,e,r){if(Math.floor(t)!==t)throw H(t,r),new q.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new q.ERR_BUFFER_OUT_OF_BOUNDS;throw new q.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=j(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function K(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function J(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const Q=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?tt:t}function tt(){throw new Error("BigInt not supported")}},108:(t,e,r)=>{var n=r(464),i=r(84);function o(){return(new Date).getTime()}var s,a=Array.prototype.slice,c={};s="undefined"!=typeof global&&global.console?global.console:"undefined"!=typeof window&&window.console?window.console:{};for(var l=[[function(){},"log"],[function(){s.log.apply(s,arguments)},"info"],[function(){s.log.apply(s,arguments)},"warn"],[function(){s.warn.apply(s,arguments)},"error"],[function(t){c[t]=o()},"time"],[function(t){var e=c[t];if(!e)throw new Error("No such label: "+t);delete c[t];var r=o()-e;s.log(t+": "+r+"ms")},"timeEnd"],[function(){var t=new Error;t.name="Trace",t.message=n.format.apply(null,arguments),s.error(t.stack)},"trace"],[function(t){s.log(n.inspect(t)+"\n")},"dir"],[function(t){if(!t){var e=a.call(arguments,1);i.ok(!1,n.format.apply(null,e))}},"assert"]],u=0;u<l.length;u++){var h=l[u],f=h[0],d=h[1];s[d]||(s[d]=f)}t.exports=s},155:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var a,c=[],l=!1,u=-1;function h(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&f())}function f(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(a=c,c=[];++u<e;)a&&a[u].run();u=-1,e=c.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},830:(t,e,r)=>{const n=r(113);e.ObjToUrlencoded=function(t){return new URLSearchParams(t.entries(o)).toString()},e.strConvUsp=function(t){return new URLSearchParams(t)},e.objToHeadersEntry=function(t){let e=[];for(let r in t)e.push({name:r,value:t[r]});return e},e.plain2sha1=function(t){const e=n.createHash("sha1");return e.update(t),e.digest("hex")},e.randomString=function(t){let e="";for(let r=0;r<t;r++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}},84:t=>{"use strict";t.exports=require("assert")},238:t=>{"use strict";t.exports=require("base64-js")},983:t=>{"use strict";t.exports=require("bluebird")},361:t=>{"use strict";t.exports=require("chrome-launcher")},979:t=>{"use strict";t.exports=require("chrome-remote-interface")},951:t=>{"use strict";t.exports=require("cssesc")},974:t=>{"use strict";t.exports=require("debug")},330:t=>{"use strict";t.exports=require("deepmerge")},239:t=>{"use strict";t.exports=require("events")},665:t=>{"use strict";t.exports=require("ieee754")},517:t=>{"use strict";t.exports=require("lodash")},884:t=>{"use strict";t.exports=require("mz/fs")},819:t=>{"use strict";t.exports=require("querystring")},464:t=>{"use strict";t.exports=require("util")},113:t=>{"use strict";t.exports=require("crypto")},17:t=>{"use strict";t.exports=require("path")}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{default:()=>a});const{CoreLayer:t,createReport:e,urlencodedParams:i,urlGetParams:o,browerHttpJob:s}=r(456),a={CoreLayer:t,urlencodedParams:i,HeadlessChrome:r(957),createReport:e,urlGetParams:o,browerHttpJob:s}})(),n})()));